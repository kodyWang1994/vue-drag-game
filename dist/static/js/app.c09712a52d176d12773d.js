webpackJsonp([1],{NHnr:function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("7+uW"),s={render:function(){var r=this.$createElement,t=this._self._c||r;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=e("VU/8")({name:"App"},s,!1,function(r){e("oYzz")},null,null).exports,i=e("/ocq"),n=e("BO1k"),c=e.n(n),l=e("rdLu"),h=e.n(l),u={name:"DragBlock",data:function(){return{blockColor:[],dragColor:[],dragBlock:{size:2,type:"square"},source:0,isOver:!1}},created:function(){console.warn("Design by Kody Wang, Thank you, play my game!"),this.changeDragBlock()},methods:{restart:function(){this.isOver=!1,this.blockColor=[],this.source=0,this.changeDragBlock()},hasColor:function(r){return h.a.indexOf(this.blockColor,r)>-1},dragHasColor:function(r){return h.a.indexOf(this.dragColor,r)>-1},changeDragBlock:function(){this.dragColor=[],this.dragBlock.type=h.a.sample(["row-line","col-line","square","square-bend-top-left","square-bend-top-right","square-bend-bottom-left","square-bend-bottom-right"]),this.dragBlock.type.indexOf("line")>-1?this.dragBlock.size=h.a.random(1,5):this.dragBlock.size=h.a.random(2,3),this.dragColor=this.getIndexs([],10),this.checkIsOver()},start:function(r){this.moveBlock=this.$refs.moveBlock},move:function(r){this.moveBlock.style.position="fixed",this.moveBlock.style.top=r.touches[0].pageY-30+"px",this.moveBlock.style.left=r.touches[0].pageX-30+"px"},end:function(r){var t=Math.round((r.changedTouches[0].pageX-(window.innerWidth-320)/2)/32),e=10*Math.round(r.changedTouches[0].pageY/32)+t-1;this.pushBlock(e),this.moveBlock.style.position="static"},pushBlock:function(r){var t=this.getIndexs([],r),e=!0;if(!h.a.isEmpty(t)){var o=!0,s=!1,a=void 0;try{for(var i,n=c()(t);!(o=(i=n.next()).done);o=!0){var l=i.value;(this.hasColor(l)||l<10||l>109)&&(e=!1)}}catch(r){s=!0,a=r}finally{try{!o&&n.return&&n.return()}finally{if(s)throw a}}if(e){var u=!0,d=!1,f=void 0;try{for(var v,g=c()(t);!(u=(v=g.next()).done);u=!0){var p=v.value;this.blockColor.push(p)}}catch(r){d=!0,f=r}finally{try{!u&&g.return&&g.return()}finally{if(d)throw f}}this.source+=t.length,this.checkIsLine(),this.changeDragBlock()}}},checkIsLine:function(){var r=this,t=h.a.groupBy(this.blockColor,function(r){return r%10}),e=h.a.groupBy(this.blockColor,function(r){return parseInt(r/10)});h.a.each(t,function(t){10===t.length&&(r.blockColor=h.a.difference(r.blockColor,t),r.source+=10)}),h.a.each(e,function(t){10===t.length&&(r.blockColor=h.a.difference(r.blockColor,t),r.source+=10)})},checkIsOver:function(){var r=h.a.range(10,110),t=h.a.difference(r,this.blockColor),e=!0,o=!1,s=void 0;try{for(var a,i=c()(t);!(e=(a=i.next()).done);e=!0){var n=a.value,l=!0,u=this.getIndexs([],n);if(h.a.isEmpty(u))l=!1;else{var d=!0,f=!1,v=void 0;try{for(var g,p=c()(u);!(d=(g=p.next()).done);d=!0){var k=g.value;(this.hasColor(k)||k<10||k>109)&&(l=!1)}}catch(r){f=!0,v=r}finally{try{!d&&p.return&&p.return()}finally{if(f)throw v}}}if(l)return}}catch(r){o=!0,s=r}finally{try{!e&&i.return&&i.return()}finally{if(o)throw s}}this.isOver=!0},getIndexs:function(r,t){if("row-line"===this.dragBlock.type)for(var e=0;e<this.dragBlock.size;e++){if(parseInt((t+e)/10)!==parseInt(t/10))return[];r.push(t+e)}if("col-line"===this.dragBlock.type)for(var o=0;o<10*this.dragBlock.size;o+=10)r.push(t+o);if(this.dragBlock.type.indexOf("square")>-1&&10-t%10<this.dragBlock.size)return[];if("square"===this.dragBlock.type)for(var s=0;s<10*this.dragBlock.size;s+=10)for(var a=0;a<this.dragBlock.size;a++)r.push(t+s+a);if("square-bend-top-left"===this.dragBlock.type){for(var i=0;i<this.dragBlock.size;i++)r.push(t+i);for(var n=0;n<10*this.dragBlock.size;n+=10)r.push(t+n)}if("square-bend-top-right"===this.dragBlock.type){for(var c=0;c<this.dragBlock.size;c++)r.push(t+c);for(var l=0;l<10*this.dragBlock.size;l+=10)r.push(t+this.dragBlock.size-1+l)}if("square-bend-bottom-left"===this.dragBlock.type){for(var u=0;u<this.dragBlock.size;u++)r.push(t+10*(this.dragBlock.size-1)+u);for(var d=0;d<10*this.dragBlock.size;d+=10)r.push(t+d)}if("square-bend-bottom-right"===this.dragBlock.type){for(var f=0;f<this.dragBlock.size;f++)r.push(t+10*(this.dragBlock.size-1)+f);for(var v=0;v<10*this.dragBlock.size;v+=10)r.push(t+this.dragBlock.size-1+v)}return h.a.uniq(r)}}},d={render:function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"game-panel"},r._l(10,function(t){return e("div",{key:t+"row",staticClass:"row"},r._l(10,function(o){return e("div",{key:o+"col",staticClass:"col",class:{red:r.hasColor(10*t+o-1)}})}))})),r._v(" "),e("div",{staticClass:"game-panel"},[r._v("得分："+r._s(r.source))]),r._v(" "),e("div",{staticClass:"game-panel move-panel"},[e("div",{ref:"moveBlock",staticClass:"drag-wrap",on:{touchstart:r.start,touchmove:r.move,touchend:r.end}},r._l(5,function(t){return e("div",{key:t+"drag-row",staticClass:"row"},r._l(5,function(o){return e("div",{key:o+"drag-col",staticClass:"col white",class:{red:r.dragHasColor(10*t+o-1)}})}))}))]),r._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:r.isOver,expression:"isOver"}],staticClass:"over-panel"},[e("div",{staticClass:"over-text"},[r._v("无处可放")]),r._v(" "),e("div",[r._v("最终得分： "+r._s(r.source))]),r._v(" "),e("span",{staticClass:"restart",on:{click:r.restart}},[r._v("重新开始")])])])},staticRenderFns:[]};var f=e("VU/8")(u,d,!1,function(r){e("tcxw")},"data-v-ef69d6b2",null).exports;o.a.use(i.a);var v=new i.a({routes:[{path:"/",name:"DragBlock",component:f}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:v,components:{App:a},template:"<App/>"})},oYzz:function(r,t){},tcxw:function(r,t){}},["NHnr"]);
//# sourceMappingURL=app.c09712a52d176d12773d.js.map