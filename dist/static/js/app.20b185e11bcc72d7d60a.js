webpackJsonp([1],{NHnr:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("7+uW"),a={render:function(){var r=this.$createElement,e=this._self._c||r;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=t("VU/8")({name:"App"},a,!1,function(r){t("jL7j")},null,null).exports,i=t("/ocq"),n=t("BO1k"),c=t.n(n),l=t("rdLu"),h=t.n(l),u={name:"DragBlock",data:function(){return{blockColor:[],dragColor:[],dragBlock:{size:2,type:"square"},source:0,isOver:!1}},created:function(){console.warn("Design by Kody Wang, Thank you, play my game!"),this.changeDragBlock()},methods:{restart:function(){this.isOver=!1,this.blockColor=[],this.changeDragBlock()},hasColor:function(r){return h.a.indexOf(this.blockColor,r)>-1},dragHasColor:function(r){return h.a.indexOf(this.dragColor,r)>-1},changeDragBlock:function(){this.dragColor=[],this.dragBlock.type=h.a.sample(["row-line","col-line","square","square-bend-top-left","square-bend-top-right","square-bend-bottom-left","square-bend-bottom-right"]),this.dragBlock.type.indexOf("line")>-1?this.dragBlock.size=h.a.random(1,5):this.dragBlock.size=h.a.random(2,3),this.dragColor=this.getIndexs([],10),this.checkIsOver()},start:function(r){this.moveBlock=this.$refs.moveBlock},move:function(r){this.moveBlock.style.position="fixed",this.moveBlock.style.top=r.touches[0].pageY+"px",this.moveBlock.style.left=r.touches[0].pageX+"px"},end:function(r){var e=Math.round((r.changedTouches[0].pageX-(window.innerWidth-320)/2+30)/32),t=10*Math.round((r.changedTouches[0].pageY+30)/32)+e-1;this.pushBlock(t),this.moveBlock.style.position="static"},pushBlock:function(r){var e=this.getIndexs([],r),t=!0;if(!h.a.isEmpty(e)){var o=!0,a=!1,s=void 0;try{for(var i,n=c()(e);!(o=(i=n.next()).done);o=!0){var l=i.value;(this.hasColor(l)||l<10||l>109)&&(t=!1)}}catch(r){a=!0,s=r}finally{try{!o&&n.return&&n.return()}finally{if(a)throw s}}if(t){var u=!0,d=!1,f=void 0;try{for(var v,p=c()(e);!(u=(v=p.next()).done);u=!0){var g=v.value;this.blockColor.push(g)}}catch(r){d=!0,f=r}finally{try{!u&&p.return&&p.return()}finally{if(d)throw f}}this.source+=e.length,this.checkIsLine(),this.changeDragBlock()}}},checkIsLine:function(){var r=this,e=h.a.groupBy(this.blockColor,function(r){return r%10}),t=h.a.groupBy(this.blockColor,function(r){return parseInt(r/10)});h.a.each(e,function(e){10===e.length&&(r.blockColor=h.a.difference(r.blockColor,e),r.source+=10)}),h.a.each(t,function(e){10===e.length&&(r.blockColor=h.a.difference(r.blockColor,e),r.source+=10)})},checkIsOver:function(){var r=h.a.range(10,110),e=h.a.difference(r,this.blockColor),t=!0,o=!1,a=void 0;try{for(var s,i=c()(e);!(t=(s=i.next()).done);t=!0){var n=s.value,l=!0,u=this.getIndexs([],n);if(h.a.isEmpty(u))l=!1;else{var d=!0,f=!1,v=void 0;try{for(var p,g=c()(u);!(d=(p=g.next()).done);d=!0){var k=p.value;(this.hasColor(k)||k<10||k>109)&&(l=!1)}}catch(r){f=!0,v=r}finally{try{!d&&g.return&&g.return()}finally{if(f)throw v}}}if(l)return}}catch(r){o=!0,a=r}finally{try{!t&&i.return&&i.return()}finally{if(o)throw a}}this.isOver=!0},getIndexs:function(r,e){if("row-line"===this.dragBlock.type)for(var t=0;t<this.dragBlock.size;t++){if(parseInt((e+t)/10)!==parseInt(e/10))return[];r.push(e+t)}if("col-line"===this.dragBlock.type)for(var o=0;o<10*this.dragBlock.size;o+=10)r.push(e+o);if(this.dragBlock.type.indexOf("square")>-1&&10-e%10<this.dragBlock.size)return[];if("square"===this.dragBlock.type)for(var a=0;a<10*this.dragBlock.size;a+=10)for(var s=0;s<this.dragBlock.size;s++)r.push(e+a+s);if("square-bend-top-left"===this.dragBlock.type){for(var i=0;i<this.dragBlock.size;i++)r.push(e+i);for(var n=0;n<10*this.dragBlock.size;n+=10)r.push(e+n)}if("square-bend-top-right"===this.dragBlock.type){for(var c=0;c<this.dragBlock.size;c++)r.push(e+c);for(var l=0;l<10*this.dragBlock.size;l+=10)r.push(e+this.dragBlock.size-1+l)}if("square-bend-bottom-left"===this.dragBlock.type){for(var u=0;u<this.dragBlock.size;u++)r.push(e+10*(this.dragBlock.size-1)+u);for(var d=0;d<10*this.dragBlock.size;d+=10)r.push(e+d)}if("square-bend-bottom-right"===this.dragBlock.type){for(var f=0;f<this.dragBlock.size;f++)r.push(e+10*(this.dragBlock.size-1)+f);for(var v=0;v<10*this.dragBlock.size;v+=10)r.push(e+this.dragBlock.size-1+v)}return h.a.uniq(r)}}},d={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"game-panel"},r._l(10,function(e){return t("div",{key:e+"row",staticClass:"row"},r._l(10,function(o){return t("div",{key:o+"col",staticClass:"col",class:{red:r.hasColor(10*e+o-1)}})}))})),r._v(" "),t("div",{staticClass:"game-panel"},[r._v("得分："+r._s(r.source))]),r._v(" "),t("div",{staticClass:"game-panel move-panel"},[t("div",{ref:"moveBlock",staticClass:"drag-wrap",on:{touchstart:r.start,touchmove:r.move,touchend:r.end}},r._l(5,function(e){return t("div",{key:e+"drag-row",staticClass:"row"},r._l(5,function(o){return t("div",{key:o+"drag-col",staticClass:"col white",class:{red:r.dragHasColor(10*e+o-1)}})}))}))]),r._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:r.isOver,expression:"isOver"}],staticClass:"over-panel"},[t("div",{staticClass:"over-text"},[r._v("无处可放")]),r._v(" "),t("div",[r._v("最终得分： "+r._s(r.source))]),r._v(" "),t("span",{staticClass:"restart",on:{click:r.restart}},[r._v("重新开始")])])])},staticRenderFns:[]};var f=t("VU/8")(u,d,!1,function(r){t("pfCI")},"data-v-6aa18ee8",null).exports;o.a.use(i.a);var v=new i.a({routes:[{path:"/",name:"DragBlock",component:f}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:v,components:{App:s},template:"<App/>"})},jL7j:function(r,e){},pfCI:function(r,e){}},["NHnr"]);
//# sourceMappingURL=app.20b185e11bcc72d7d60a.js.map