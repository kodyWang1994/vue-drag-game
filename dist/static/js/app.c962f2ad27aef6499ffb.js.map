{"version":3,"sources":["webpack:///./src/App.vue?8485","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/DragBlock.vue","webpack:///./src/components/DragBlock.vue?5ab0","webpack:///./src/components/DragBlock.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","DragBlock","data","blockColor","dragColor","dragBlock","size","type","source","isOver","created","console","warn","changeDragBlock","methods","restart","hasColor","index","underscore_default","a","indexOf","dragHasColor","sample","random","getIndexs","checkIsOver","start","e","moveBlock","$refs","move","preventDefault","style","position","top","touches","pageY","left","pageX","end","x","Math","round","changedTouches","window","innerWidth","pushBlock","num","indexs","canPush","isEmpty","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","value","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_index","push","length","checkIsLine","_this","cols","groupBy","rows","parseInt","each","col","difference","row","allIndexs","range","blankIndexs","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_index2","i","_i","_i2","j","_i3","_i4","_i5","_i6","_i7","_i8","_i9","_i10","uniq","components_DragBlock","_vm","staticClass","_l","key","class","red","_v","_s","ref","on","touchstart","touchmove","touchend","directives","rawName","expression","click","src_components_DragBlock","DragBlock_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.c962f2ad27aef6499ffb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-31bb655d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31bb655d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31bb655d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml {\r\n  overflow: hidden;\r\n  height: 100%;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  overflow: hidden;\r\n  height: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n  <div class=\"container\">\r\n    <div class=\"game-panel\">\r\n      <div class=\"row\" v-for=\"row in 10\" :key=\"row + 'row'\">\r\n        <div class=\"col\" v-for=\"col in 10\" :key=\"col + 'col'\" :class=\"{red: hasColor(row * 10 +  col - 1)}\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"game-panel\">得分：{{source}}</div>\r\n\r\n    <div class=\"game-panel move-panel\">\r\n      <div\r\n        class=\"drag-wrap\"\r\n        ref=\"moveBlock\"\r\n        @touchstart=\"start\"\r\n        @touchmove=\"move\"\r\n        @touchend=\"end\">\r\n        <div class=\"row\" v-for=\"row in 5\" :key=\"row + 'drag-row'\">\r\n          <div class=\"col white\" v-for=\"col in 5\" :key=\"col + 'drag-col'\" :class=\"{red: dragHasColor(row * 10 +  col - 1)}\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-show=\"isOver\" class=\"over-panel\">\r\n      <div class=\"over-text\">无处可放</div>\r\n      <div>最终得分： {{source}}</div>\r\n      <span @click=\"restart\" class=\"restart\">重新开始</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'underscore'\r\n\r\nexport default {\r\n  name: 'DragBlock',\r\n  data () {\r\n    return {\r\n      blockColor: [],\r\n      dragColor: [],\r\n      dragBlock: {\r\n        size: 2,\r\n        type: 'square'\r\n      },\r\n      source: 0,\r\n      isOver: false\r\n    }\r\n  },\r\n  created () {\r\n    console.warn('Design by Kody Wang, Thank you, play my game!')\r\n    this.changeDragBlock()\r\n  },\r\n  methods: {\r\n    restart () {\r\n      this.isOver = false\r\n      this.blockColor = []\r\n      this.source = 0\r\n      this.changeDragBlock()\r\n    },\r\n    hasColor (index) {\r\n      return _.indexOf(this.blockColor, index) > -1\r\n    },\r\n    dragHasColor (index) {\r\n      return _.indexOf(this.dragColor, index) > -1\r\n    },\r\n    changeDragBlock () {\r\n      this.dragColor = []\r\n      this.dragBlock.type = _.sample([\r\n        'row-line',\r\n        'col-line',\r\n        'square',\r\n        'square-bend-top-left',\r\n        'square-bend-top-right',\r\n        'square-bend-bottom-left',\r\n        'square-bend-bottom-right'\r\n      ])\r\n      if (this.dragBlock.type.indexOf('line') > -1) {\r\n        this.dragBlock.size = _.random(1, 5)\r\n      } else {\r\n        this.dragBlock.size = _.random(2, 3)\r\n      }\r\n\r\n      this.dragColor = this.getIndexs([], 10)\r\n\r\n      this.checkIsOver()\r\n    },\r\n    start (e) {\r\n      this.moveBlock = this.$refs.moveBlock\r\n    },\r\n    move (e) {\r\n      e.preventDefault()\r\n      this.moveBlock.style.position = 'fixed'\r\n      this.moveBlock.style.top = e.touches[0].pageY - 30 + 'px'\r\n      this.moveBlock.style.left = e.touches[0].pageX - 30 + 'px'\r\n    },\r\n    end (e) {\r\n      let x = Math.round((e.changedTouches[0].pageX - (window.innerWidth - 320) / 2) / 32)\r\n      let y = Math.round((e.changedTouches[0].pageY) / 32) * 10\r\n      let index = y + x - 1\r\n      this.pushBlock(index)\r\n      this.moveBlock.style.position = 'static'\r\n    },\r\n    pushBlock (num) {\r\n      let indexs = this.getIndexs([], num)\r\n      let canPush = true\r\n\r\n      if (!_.isEmpty(indexs)) {\r\n        for (const index of indexs) {\r\n          if (this.hasColor(index) || index < 10 || index > 109) {\r\n            canPush = false\r\n          }\r\n        }\r\n        if (canPush) {\r\n          for (const index of indexs) {\r\n            this.blockColor.push(index)\r\n          }\r\n          this.source += indexs.length\r\n          this.checkIsLine()\r\n          this.changeDragBlock()\r\n        }\r\n      }\r\n    },\r\n    checkIsLine () {\r\n      let cols = _.groupBy(this.blockColor, function (index) {\r\n        return index % 10\r\n      })\r\n      let rows = _.groupBy(this.blockColor, function (index) {\r\n        return parseInt(index / 10)\r\n      })\r\n      _.each(cols, col => {\r\n        if (col.length === 10) {\r\n          this.blockColor = _.difference(this.blockColor, col)\r\n          this.source += 10\r\n        }\r\n      })\r\n      _.each(rows, row => {\r\n        if (row.length === 10) {\r\n          this.blockColor = _.difference(this.blockColor, row)\r\n          this.source += 10\r\n        }\r\n      })\r\n    },\r\n    checkIsOver () {\r\n      const allIndexs = _.range(10, 110)\r\n      let blankIndexs = _.difference(allIndexs, this.blockColor)\r\n      for (const index of blankIndexs) {\r\n        let canPush = true\r\n        let indexs = this.getIndexs([], index)\r\n\r\n        if (_.isEmpty(indexs)) {\r\n          canPush = false\r\n        } else {\r\n          for (const index of indexs) {\r\n            if (this.hasColor(index) || index < 10 || index > 109) {\r\n              canPush = false\r\n            }\r\n          }\r\n        }\r\n        if (canPush) {\r\n          return\r\n        }\r\n      }\r\n      this.isOver = true\r\n    },\r\n    getIndexs (indexs, num) {\r\n      if (this.dragBlock.type === 'row-line') {\r\n        for (let i = 0; i < this.dragBlock.size; i++) {\r\n          if (parseInt((num + i) / 10) !== parseInt((num) / 10)) {\r\n            return []\r\n          }\r\n          indexs.push(num + i)\r\n        }\r\n      }\r\n\r\n      if (this.dragBlock.type === 'col-line') {\r\n        for (let i = 0; i < this.dragBlock.size * 10; i += 10) {\r\n          indexs.push(num + i)\r\n        }\r\n      }\r\n\r\n      if (this.dragBlock.type.indexOf('square') > -1) {\r\n        if (10 - (num % 10) < this.dragBlock.size) {\r\n          return []\r\n        }\r\n      }\r\n\r\n      if (this.dragBlock.type === 'square') {\r\n        for (let i = 0; i < this.dragBlock.size * 10; i += 10) {\r\n          for (let j = 0; j < this.dragBlock.size; j++) {\r\n            indexs.push(num + i + j)\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.dragBlock.type === 'square-bend-top-left') {\r\n        for (let i = 0; i < this.dragBlock.size; i++) {\r\n          indexs.push(num + i)\r\n        }\r\n        for (let i = 0; i < this.dragBlock.size * 10; i += 10) {\r\n          indexs.push(num + i)\r\n        }\r\n      }\r\n\r\n      if (this.dragBlock.type === 'square-bend-top-right') {\r\n        for (let i = 0; i < this.dragBlock.size; i++) {\r\n          indexs.push(num + i)\r\n        }\r\n        for (let i = 0; i < this.dragBlock.size * 10; i += 10) {\r\n          indexs.push(num + this.dragBlock.size - 1 + i)\r\n        }\r\n      }\r\n\r\n      if (this.dragBlock.type === 'square-bend-bottom-left') {\r\n        for (let i = 0; i < this.dragBlock.size; i++) {\r\n          indexs.push(num + (this.dragBlock.size - 1) * 10 + i)\r\n        }\r\n        for (let i = 0; i < this.dragBlock.size * 10; i += 10) {\r\n          indexs.push(num + i)\r\n        }\r\n      }\r\n\r\n      if (this.dragBlock.type === 'square-bend-bottom-right') {\r\n        for (let i = 0; i < this.dragBlock.size; i++) {\r\n          indexs.push(num + (this.dragBlock.size - 1) * 10 + i)\r\n        }\r\n        for (let i = 0; i < this.dragBlock.size * 10; i += 10) {\r\n          indexs.push(num + this.dragBlock.size - 1 + i)\r\n        }\r\n      }\r\n\r\n      return _.uniq(indexs)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.game-panel {\r\n  width: 320px;\r\n  margin: auto;\r\n}\r\n\r\n.move-panel {\r\n  margin-top: 50px;\r\n}\r\n\r\n.drag-wrap {\r\n  width: 160px;\r\n  margin: auto;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n}\r\n\r\n.col {\r\n  width: 30px;\r\n  height: 30px;\r\n  background-color: #ccc;\r\n  border: 1px solid #fff;\r\n}\r\n\r\n.red {\r\n  background-color: red !important;\r\n  border: 1px solid #fff !important;\r\n}\r\n\r\n.white {\r\n  background-color: transparent;\r\n  border: 1px solid transparent;\r\n}\r\n\r\n.row-line {\r\n  display: flex;\r\n}\r\n\r\n.over-panel {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  text-align: center;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.over-text {\r\n  margin-top: 150px;\r\n  font-weight: bold;\r\n  animation: over-animation 2s linear .1s infinite alternate;\r\n}\r\n\r\n.restart {\r\n  margin-top: 30px;\r\n  padding: 10px 15px;\r\n  background-color: tomato;\r\n  border-radius: 15px;\r\n  display: inline-block;\r\n  color: #fff;\r\n}\r\n\r\n@keyframes over-animation {\r\n  from {font-size: 15px;}\r\n  to {font-size: 25px;}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/DragBlock.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"game-panel\"},_vm._l((10),function(row){return _c('div',{key:row + 'row',staticClass:\"row\"},_vm._l((10),function(col){return _c('div',{key:col + 'col',staticClass:\"col\",class:{red: _vm.hasColor(row * 10 +  col - 1)}})}))})),_vm._v(\" \"),_c('div',{staticClass:\"game-panel\"},[_vm._v(\"得分：\"+_vm._s(_vm.source))]),_vm._v(\" \"),_c('div',{staticClass:\"game-panel move-panel\"},[_c('div',{ref:\"moveBlock\",staticClass:\"drag-wrap\",on:{\"touchstart\":_vm.start,\"touchmove\":_vm.move,\"touchend\":_vm.end}},_vm._l((5),function(row){return _c('div',{key:row + 'drag-row',staticClass:\"row\"},_vm._l((5),function(col){return _c('div',{key:col + 'drag-col',staticClass:\"col white\",class:{red: _vm.dragHasColor(row * 10 +  col - 1)}})}))}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOver),expression:\"isOver\"}],staticClass:\"over-panel\"},[_c('div',{staticClass:\"over-text\"},[_vm._v(\"无处可放\")]),_vm._v(\" \"),_c('div',[_vm._v(\"最终得分： \"+_vm._s(_vm.source))]),_vm._v(\" \"),_c('span',{staticClass:\"restart\",on:{\"click\":_vm.restart}},[_vm._v(\"重新开始\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f88e997\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DragBlock.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f88e997\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DragBlock.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DragBlock.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DragBlock.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f88e997\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DragBlock.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4f88e997\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DragBlock.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport DragBlock from '@/components/DragBlock'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'DragBlock',\r\n      component: DragBlock\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}